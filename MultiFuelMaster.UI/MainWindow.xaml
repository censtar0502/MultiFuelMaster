<Window x:Class="MultiFuelMaster.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MultiFuelMaster"
        MinWidth="580" MinHeight="480"
        WindowStartupLocation="CenterScreen"
        Background="#080C16"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="False">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="40"
                      ResizeBorderThickness="6"
                      GlassFrameThickness="0"
                      CornerRadius="0"/>
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <SolidColorBrush x:Key="BgPrimary"     Color="#080C16"/>
        <SolidColorBrush x:Key="BgPanel"       Color="#0D1117"/>
        <SolidColorBrush x:Key="TextPrimary"   Color="#E8EAF6"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#8B949E"/>
        <SolidColorBrush x:Key="Border"        Color="#1E2840"/>
        <SolidColorBrush x:Key="Green"         Color="#00E676"/>
        <SolidColorBrush x:Key="Amber"         Color="#FFC107"/>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>   <!-- Заголовок -->
            <RowDefinition Height="*"/>    <!-- Панели постов -->
            <RowDefinition Height="26"/>   <!-- Статусная строка -->
        </Grid.RowDefinitions>

        <!-- ═══════ ЗАГОЛОВОК (Title Bar) ═══════ -->
        <Border Grid.Row="0" Background="{StaticResource BgPanel}"
                BorderBrush="{StaticResource Border}" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Лого + Название -->
                <StackPanel Grid.Column="0" Orientation="Horizontal"
                            VerticalAlignment="Center" Margin="10,0,0,0">
                    <Border Width="22" Height="22" CornerRadius="5" Margin="0,0,8,0">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#00E676" Offset="0"/>
                                <GradientStop Color="#42A5F5" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="M" FontWeight="ExtraBold" FontSize="12"
                                   Foreground="#080C16" HorizontalAlignment="Center"
                                   VerticalAlignment="Center" FontFamily="Consolas"/>
                    </Border>
                    <TextBlock Text="MultiFuelMaster" FontSize="13" FontWeight="Bold"
                               Foreground="{StaticResource TextPrimary}"
                               VerticalAlignment="Center"/>
                    <TextBlock x:Name="PostCountLabel" Text=""
                               FontSize="11" Foreground="{StaticResource TextSecondary}"
                               VerticalAlignment="Center" Margin="8,0,0,0"/>
                </StackPanel>

                <!-- Меню (по центру) -->
                <StackPanel Grid.Column="1" Orientation="Horizontal"
                            HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Button Content="Лицензия" Click="BtnLicense_Click"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Background="Transparent" Foreground="{StaticResource TextSecondary}"
                            FontSize="11" Padding="10,4" Margin="4,0"
                            BorderThickness="0" Cursor="Hand"/>
                    <Button Content="О программе" Click="BtnAbout_Click"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Background="Transparent" Foreground="{StaticResource TextSecondary}"
                            FontSize="11" Padding="10,4" Margin="4,0"
                            BorderThickness="0" Cursor="Hand"/>
                </StackPanel>

                <!-- Счётчик постов -->
                <Border Grid.Column="2" CornerRadius="10" Padding="8,3"
                        Background="#111827" Margin="0,0,8,0" VerticalAlignment="Center"
                        WindowChrome.IsHitTestVisibleInChrome="False">
                    <TextBlock x:Name="ActiveCountLabel" Text="0 / 0 активно"
                               FontSize="10" Foreground="{StaticResource TextSecondary}"
                               FontFamily="Consolas"/>
                </Border>

                <!-- Кнопки окна -->
                <StackPanel Grid.Column="3" Orientation="Horizontal">
                    <Button Content="—" Click="BtnMinimize_Click"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Width="40" Height="40" FontSize="13"
                            Background="Transparent" Foreground="{StaticResource TextSecondary}"
                            BorderThickness="0" Cursor="Hand"/>
                    <Button Content="□" Click="BtnMaximize_Click"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Width="40" Height="40" FontSize="13"
                            Background="Transparent" Foreground="{StaticResource TextSecondary}"
                            BorderThickness="0" Cursor="Hand"/>
                    <Button x:Name="BtnClose" Content="✕" Click="BtnClose_Click"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Width="40" Height="40" FontSize="13"
                            Background="Transparent" Foreground="{StaticResource TextSecondary}"
                            BorderThickness="0" Cursor="Hand"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ═══════ ОБЛАСТЬ ПОСТОВ (UniformGrid) ═══════ -->
        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <UniformGrid x:Name="PostsGrid" Margin="4"/>
        </ScrollViewer>

        <!-- ═══════ СТАТУСНАЯ СТРОКА ═══════ -->
        <Border Grid.Row="2" Background="{StaticResource BgPanel}"
                BorderBrush="{StaticResource Border}" BorderThickness="0,1,0,0">
            <Grid Margin="10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock x:Name="StatusBarText"
                           Text="MultiFuelMaster v1.0"
                           FontSize="10" VerticalAlignment="Center"
                           Foreground="{StaticResource TextSecondary}"/>
                <TextBlock Grid.Column="1" x:Name="ClockText"
                           Text="00:00:00"
                           FontSize="10" VerticalAlignment="Center"
                           Foreground="{StaticResource TextSecondary}"
                           FontFamily="Consolas"/>
            </Grid>
        </Border>
    </Grid>
</Window>
